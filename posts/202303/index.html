<!DOCTYPE html><html lang="zh-CN"><head><link rel="preconnect" href="https://cdn.laxdu.com" crossorigin=""><link rel="preconnect" href="https://cdn.staticfile.org" crossorigin=""><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#e7ddc8" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#181c27" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/resources/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/resources/favicon/favicon-32.png"><link rel="icon" type="image/png" sizes="16x16" href="/resources/favicon/favicon.ico"><meta name="google-site-verification" content="qrfHdjHo8d6tPJTdX-b5IScRX0L1lgZk7ikpMOFlzrc"><meta name="baidu-site-verification" content="codeva-El5IcMyeDJ"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"blog.laxdu.com","root":"/","images":"/resources/img/","scheme":"Gemini","darkmode":true,"version":"8.20.0","exturl":true,"sidebar":{"position":"left","width_expanded":240,"width_dual_column":240,"display":"post","padding":18,"offset":12,"on_mobile":true,"button_reverse":true,"Pisces | Gemini":240},"copycode":{"enable":true,"style":"flat"},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><meta name="description" content="Docker安装Ubuntu 22.04版本1.更新软件包   apt-get update apt-get upgrade"><meta property="og:type" content="article"><meta property="og:title" content="Docker的那些事"><meta property="og:url" content="https://blog.laxdu.com/posts/202303/index.html"><meta property="og:site_name" content="渡"><meta property="og:description" content="Docker安装Ubuntu 22.04版本1.更新软件包   apt-get update apt-get upgrade"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.laxdu.com/ImageHosting/H/Hexo/2.webp"><meta property="og:image" content="https://cdn.laxdu.com/ImageHosting/D/Docker/0.webp"><meta property="og:image" content="https://cdn.laxdu.com/ImageHosting/D/Docker/1.webp"><meta property="article:published_time" content="2023-05-05T10:04:46.000Z"><meta property="article:author" content="辰"><meta property="article:tag" content="服务器"><meta property="article:tag" content="GitHub"><meta property="article:tag" content="博客"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.laxdu.com/ImageHosting/H/Hexo/2.webp"><link rel="canonical" href="https://blog.laxdu.com/posts/202303/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://blog.laxdu.com/posts/202303/","path":"/posts/202303/","title":"Docker的那些事"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Docker的那些事 | 渡</title><link rel="stylesheet" href="/resources/fonts/longcang/LongCang-Regular.css"><link rel="stylesheet" href="https://cdn.staticfile.net/lxgw-wenkai-screen-webfont/1.7.0/style.min.css"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">渡</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">静谧中，沉静心灵</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-life"><a href="/life/" rel="section"><i class="fa fa-pizza-slice fa-fw"></i>生活</a></li><li class="menu-item menu-item-leisure"><a href="/leisure/" rel="section"><i class="fa fa-mug-hot fa-fw"></i>余暇</a></li><li class="menu-item menu-item-industry"><a href="/industry/" rel="section"><i class="fa fa-fish fa-fw"></i>工业</a></li><li class="menu-item menu-item-notes"><a href="/notes/" rel="section"><i class="fa fa-book fa-fw"></i>随记</a></li><li class="menu-item menu-item-guestbook"><a href="/guestbook/" rel="section"><i class="fa fa-splotch fa-fw"></i>留言</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">目 录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker%E5%AE%89%E8%A3%85"><span class="nav-text">Docker安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F"><span class="nav-text">Docker镜像加速</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker%E7%9A%84%E9%82%A3%E4%BA%9B%E5%AE%B9%E5%99%A8"><span class="nav-text">Docker的那些容器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Nginx"><span class="nav-text">Nginx</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-text">安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE"><span class="nav-text">配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-text">注意事项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ACME"><span class="nav-text">ACME</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Token%E7%94%B3%E8%AF%B7"><span class="nav-text">Token申请</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-1"><span class="nav-text">安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7"><span class="nav-text">证书申请</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E7%BB%AD%E7%AD%BE"><span class="nav-text">自动续签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E8%80%83-1"><span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NetData"><span class="nav-text">NetData</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-2"><span class="nav-text">安装</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1"><span class="nav-text">注意事项</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%97%A7%E7%89%88%E6%9C%AC%E5%B7%B2%E7%9F%A5seccomp%E9%97%AE%E9%A2%98"><span class="nav-text">旧版本已知seccomp问题</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E8%80%83-2"><span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E5%BF%83%E4%BA%91"><span class="nav-text">网心云</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F"><span class="nav-text">拉取镜像</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E5%92%8C%E5%90%AF%E5%8A%A8%E7%BD%91%E5%BF%83%E4%BA%91%E5%AE%B9%E5%99%A8"><span class="nav-text">配置和启动网心云容器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E5%92%8C%E7%AE%A1%E7%90%86%E7%BD%91%E5%BF%83%E4%BA%91"><span class="nav-text">访问和管理网心云</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E6%9C%BAAPP%E7%BB%91%E5%AE%9A"><span class="nav-text">手机APP绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E8%80%83-3"><span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Jellyfin"><span class="nav-text">Jellyfin</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E8%80%83-4"><span class="nav-text">参考</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BD%E5%86%85%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%E5%A4%B1%E8%B4%A5"><span class="nav-text">国内拉取镜像失败</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E5%85%88%E6%94%B9%E6%BA%90"><span class="nav-text">优先改源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93%E4%B8%8D%E5%90%AB%E5%BA%94%E7%94%A8%E6%BA%90%E6%97%B6"><span class="nav-text">镜像仓库不含应用源时</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E8%80%83-5"><span class="nav-text">参考</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="辰" src="/resources/img/avatar-cat.jpg"><p class="site-author-name" itemprop="name">辰</p><div class="site-description" itemprop="description">C'est la vie</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">53</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">3</span> <span class="site-state-item-name">分类</span></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">10</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div></div></div><div class="pjax"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.laxdu.com/posts/202303/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/resources/img/avatar-cat.jpg"><meta itemprop="name" content="辰"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="渡"><meta itemprop="description" content="C'est la vie"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Docker的那些事 | 渡"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Docker的那些事</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2023-05-05 18:04:46" itemprop="dateCreated datePublished" datetime="2023-05-05T18:04:46+08:00">2023-05-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/notes/" itemprop="url" rel="index"><span itemprop="name">随记</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>2.2k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>8 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="Docker安装"><a href="#Docker安装" class="headerlink" title="Docker安装"></a>Docker安装</h2><p>Ubuntu 22.04版本<br>1.更新软件包</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt-get</span> update
<span class="token function">apt-get</span> upgrade</code></pre><span id="more"></span><p>2.安装</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt-get</span> <span class="token function">install</span> docker.io</code></pre><p>3.启动服务</p><pre class="language-bash" data-language="bash"><code class="language-bash">systemctl start <span class="token function">docker</span></code></pre><p>4.验证安装</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token parameter variable">--version</span></code></pre><h2 id="Docker镜像加速"><a href="#Docker镜像加速" class="headerlink" title="Docker镜像加速"></a>Docker镜像加速</h2><p>提高Docker拉取镜像速度，可配置国内镜像源.<br>环境</p><ul><li>Ubuntu 22.04</li><li>Docker 24.0.7</li></ul><p>1.修改Docker配置<br>Docker的配置文件位于&#x2F;etc&#x2F;docker&#x2F;daemon.json. 若该文件不存在，需手动创建一个,</p><p>打开终端，使用以下命令编辑Docker配置文件</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/docker/daemon.json</code></pre><p>加入以下配置项</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">&#123;</span>
    <span class="token string">"registry-mirrors"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token string">"https://registry.docker-cn.com"</span>,
        <span class="token string">"https://dockerproxy.com"</span>,
        <span class="token string">"https://hub-mirror.c.163.com"</span>,
        <span class="token string">"https://mirror.baidubce.com"</span>,
        <span class="token string">"https://ccr.ccs.tencentyun.com"</span>,
        <span class="token string">"https://docker.m.daocloud.io"</span>,
        <span class="token string">"https://huecker.io"</span>,
        <span class="token string">"https://dockerhub.timeweb.cloud"</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span></code></pre><p>2.重启服务<br>修改配置文件后，需重启Docker服务以使更改生效。<br>方法一</p><pre class="language-bash" data-language="bash"><code class="language-bash">systemctl daemon-reload
systemctl restart <span class="token function">docker</span></code></pre><p>方法二</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">service</span> <span class="token function">docker</span> restart</code></pre><p>3.验证配置是否成功<br>查看Docker信息</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> info</code></pre><p>检查镜像源列表信息</p><pre class="language-none"><code class="language-none">Registry Mirrors:
  https:&#x2F;&#x2F;registry.docker-cn.com&#x2F;
  https:&#x2F;&#x2F;dockerproxy.com&#x2F;
  https:&#x2F;&#x2F;hub-mirror.c.163.com&#x2F;
  https:&#x2F;&#x2F;mirror.baidubce.com&#x2F;
  https:&#x2F;&#x2F;ccr.ccs.tencentyun.com&#x2F;
  https:&#x2F;&#x2F;docker.m.daocloud.io&#x2F;
  https:&#x2F;&#x2F;huecker.io&#x2F;
  https:&#x2F;&#x2F;dockerhub.timeweb.clou&#x2F;</code></pre><h2 id="Docker的那些容器"><a href="#Docker的那些容器" class="headerlink" title="Docker的那些容器"></a>Docker的那些容器</h2><p>Docker当前运行版本 19.03.9</p><h3 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h3><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>1.先拉取Nginx镜像</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> pull nginx</code></pre><p>2.创建Host对Nginx的配置目录</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /data/nginx/<span class="token punctuation">&#123;</span>conf,html,log,ssl<span class="token punctuation">&#125;</span></code></pre><!-- more --><p>3.Host主机Prewarm一下, 创建一个Nginx容器, 得到初始的配置目录文件</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">--name</span> nginx <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">-d</span> nginx</code></pre><p>4.将初始的配置目录文件拷一份出来</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token function">cp</span> nginx:/etc/nginx/conf.d /data/nginx/conf/</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token function">cp</span> nginx:/etc/nginx/nginx.conf /data/nginx/conf/nginx.conf</code></pre><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token function">cp</span> nginx:/usr/share/nginx/html/index.html /data/nginx/html/index.html</code></pre><p>5.Host主机强制移除Prewarm时的Nginx容器</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> nginx</code></pre><p>6.Host主机创建Nginx容器, 并映射容器配置目录及相关文件至Host主机上</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">--name</span> nginx <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">-p</span> <span class="token number">443</span>:443 <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /data/nginx/conf/nginx.conf:/etc/nginx/nginx.conf <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /data/nginx/conf/cert:/etc/nginx/cert <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /data/nginx/ssl:/etc/nginx/ssl <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /data/nginx/conf/conf.d:/etc/nginx/conf.d <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /data/nginx/log:/var/log/nginx <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /data/nginx/html:/usr/share/nginx/html <span class="token punctuation">\</span>
<span class="token parameter variable">-v</span> /data/share:/data/share <span class="token punctuation">\</span>
<span class="token parameter variable">-d</span> nginx</code></pre><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>1.编辑配置文件</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /data/nginx/conf/nginx.conf</code></pre><p>若只需http, 可加配置如下</p><pre class="language-conf" data-language="conf"><code class="language-conf">server &#123;
    listen 80;
    server_name xxx.xxx.com; &#x2F;&#x2F; 要匹配的二级域名
    location &#x2F; &#123;
        proxy_pass http:&#x2F;&#x2F;xxx.xxx.xxx.xxx:9000; &#x2F;&#x2F;要转发到的ip及端口 
    &#125;
&#125;</code></pre><p>若需http及https, 可加配置如下</p><pre class="language-conf" data-language="conf"><code class="language-conf">server &#123;
    listen 80;
    server_name xxx.xxx.com; &#x2F;&#x2F; 要匹配的二级域名
    rewrite ^(.*)$ https:&#x2F;&#x2F;$host$1 permanent; &#x2F;&#x2F; 将请求转成https
&#125;

server &#123;
    listen 443 ssl;
    server_name xxx.xxx.com;
    localtion &#x2F; &#123;
        ssl_certificate &#x2F;**&#x2F;*.cr
        ssl_certificate_key &#x2F;xxx&#x2F;xxx.key
        proxy_pass http:&#x2F;&#x2F;xxx.xxx.xxx.xxx:9000; &#x2F;&#x2F;要转发到的ip及端口 
    &#125;
&#125;</code></pre><p>2.生成登录凭证</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># admin为用户名, 123456是加密原文（后续登录用此即可）</span>
<span class="token comment"># 注意请确保/data/nginx/ssl/, 该目录为已成功映射至Nginx容器, 便于容器直接访问htpasswd文件</span>
<span class="token builtin class-name">printf</span> <span class="token string">"admin:<span class="token variable"><span class="token variable">$(</span>openssl <span class="token function">passwd</span> <span class="token parameter variable">-crypt</span> <span class="token number">123456</span><span class="token variable">)</span></span><span class="token entity" title="\n">\n</span>"</span> <span class="token operator">>></span> /data/nginx/ssl/htpasswd
<span class="token comment"># 查看用户名及密钥是否生成成功</span>
<span class="token function">vim</span> /data/nginx/ssl/htpasswd</code></pre><p>nginx.conf文件追加</p><pre class="language-bash" data-language="bash"><code class="language-bash">server <span class="token punctuation">&#123;</span>
  listen <span class="token number">80</span><span class="token punctuation">;</span>
  server_name xxx.laxdu.com<span class="token punctuation">;</span> <span class="token comment"># 待匹配的域名</span>
  location /
  <span class="token punctuation">&#123;</span>
    auth_basic <span class="token string">"Please enter your username and password"</span><span class="token punctuation">;</span>
    auth_basic_user_file htpasswd文件路径<span class="token punctuation">;</span> 
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre><p>3.转发至localhost</p><p>若服务器本机想通过Docker Nginx转发其他容器</p><p>a.Docker创建Nginx容器时, 直接指定为Host网络, 该方式存在安全风险, 不推荐</p><pre class="language-none"><code class="language-none">docker run --network host -xxx -xxxxx -d nginx</code></pre><p>b.直接使用公网IP转发</p><pre class="language-none"><code class="language-none"># Nginx代理转发
proxy_pass http:&#x2F;&#x2F;公网IP:转发端口</code></pre><p>c.直接使用私网IP转发</p><pre class="language-none"><code class="language-none"># 通过命令查看IP
ip route show
# Nginx代理转发
proxy_pass http:&#x2F;&#x2F;私网IP:转发端口</code></pre><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>1.配置<code>auth_basic</code>出现403 forbidden<br><code>auth_basic</code>指令用于在请求时验证用户名和密码, 若请求时未包含正确凭据，则会返回403 Forbidden错误</p><p>检查以下几点</p><ul><li>确保 auth_basic 指令配置正确</li><li>确保 .htpasswd 文件的位置正确，并且它包含正确的用户名和密码</li><li>确保 Nginx 服务器有读取 .htpasswd 文件的权限</li></ul><p>若以上步骤都已检查，且问题仍然存在，请检查 Nginx 日志来寻找其他错误</p><h4 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h4><p>1.<span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc3Vuc3VuZy9hcnRpY2xlcy8xNzAwODA1Ny5odG1s">配置https<i class="fa fa-external-link-alt"></i></span><br>2.<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NteTc2ODMzMDk2Mi9hcnRpY2xlL2RldGFpbHMvMTM3ODI4Njg2">配置访问不同二级域名到达不同目标网站<i class="fa fa-external-link-alt"></i></span><br>3.<span class="exturl" data-url="aHR0cHM6Ly9uZ2lueC5vcmcvZW4vZG9jcy9odHRwL25neF9odHRwX2F1dGhfYmFzaWNfbW9kdWxlLmh0bWw=">配置auth_basic<i class="fa fa-external-link-alt"></i></span></p><h3 id="ACME"><a href="#ACME" class="headerlink" title="ACME"></a>ACME</h3><h4 id="Token申请"><a href="#Token申请" class="headerlink" title="Token申请"></a>Token申请</h4><p>1.<span class="exturl" data-url="aHR0cHM6Ly9jb25zb2xlLmRuc3BvZC5jbi8=">腾讯云DNSPod控制台<i class="fa fa-external-link-alt"></i></span>打开<br>2.获取 DNSPod Token<br>点击右上角头像，点击API密钥，选择DNSPod Token，创建 Token<br><img data-src="https://cdn.laxdu.com/ImageHosting/H/Hexo/2.webp"></p><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><p>1.先拉取ACME镜像</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> pull neilpang/acme.sh</code></pre><p>2.创建目录, 用于挂在acme.sh生成的证书等文件</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /data <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> acme</code></pre><p>3.创建容器<br>可用docker-cii</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> acme <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">--net</span> <span class="token function">host</span> <span class="token parameter variable">-v</span> /data/acme:/acme.sh <span class="token parameter variable">-e</span> <span class="token assign-left variable">DP_Id</span><span class="token operator">=</span><span class="token string">'xxxxx'</span> <span class="token parameter variable">-e</span> <span class="token assign-left variable">DP_Key</span><span class="token operator">=</span><span class="token string">'xxxxx'</span> neilpang/acme.sh daemon</code></pre><p>或docker-compose.yml</p><pre class="language-bash" data-language="bash"><code class="language-bash">version: <span class="token string">'3'</span>
services:
  acme-sh:
    image: neilpang/acme.sh
    container_name: acme
    restart: always
    command: daemon
    environment:
      - <span class="token assign-left variable">DP_Id</span><span class="token operator">=</span><span class="token string">"xxxxx"</span>
      - <span class="token assign-left variable">DP_Key</span><span class="token operator">=</span><span class="token string">"xxxxx"</span>
    volumes:
      - /data/acme:/acme.sh
    network_mode: <span class="token function">host</span></code></pre><p>4.检查容器<br>这里其实就已经部署成功，可以使用docker命令查看容器运行</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token function">ps</span></code></pre><h4 id="证书申请"><a href="#证书申请" class="headerlink" title="证书申请"></a>证书申请</h4><p>1.自签泛域名证书<br>acme.sh 容器部署成功后，执行下面命令开始自签泛域名证书</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> acme <span class="token parameter variable">--issue</span> <span class="token parameter variable">--dns</span> dns_dp <span class="token parameter variable">-d</span> xxx.com <span class="token parameter variable">-d</span> *.xxx.com</code></pre><blockquote><p>这里使用的是腾讯云dns，所以 –dns后面是 dns_dp 如果使用其他的请自行查询官网<br>-d 后面是你想要签名证书的域名，* 表示所有的子域名。<br>证书生成后，会在 &#x2F;data&#x2F;acme 目录下生成 xxx.com 目录，里面包含生成的证书信息，部署到nginx就可以使用了</p></blockquote><pre class="language-bash" data-language="bash"><code class="language-bash">ssl_certificate /data/acme/xxx.com_ecc/fullchain.cer<span class="token punctuation">;</span>
ssl_certificate_key /data/acme/xxx.com_ecc/xxx.com.key<span class="token punctuation">;</span></code></pre><h4 id="自动续签"><a href="#自动续签" class="headerlink" title="自动续签"></a>自动续签</h4><p>1.使用定时任务保证证书不会过期<br>在docker 宿主机添加一条定时任务，让acme去检查证书是否过期，是否能更新证书（一般提前30天即可更新证书），如果可以就会执行证书的更新。这里可以添加一下 acme.sh 的自动更新，保证 acme是最新的版本。</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> acme <span class="token parameter variable">--upgrade</span> --auto-upgrade</code></pre><p>2.添加自动更新任务 (可选)<br>执行</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">crontab</span> <span class="token parameter variable">-e</span></code></pre><p>编辑crontab文件, 添加如下内容, 保存即可</p><pre class="language-none"><code class="language-none">10 0 * * * docker exec acme --cron &gt; &#x2F;dev&#x2F;null # acme为容器名, 每天0点10分执行
10 1 * * * nginx -s reload    # 重新加载nginx配置</code></pre><h4 id="参考-1"><a href="#参考-1" class="headerlink" title="参考"></a>参考</h4><p>1.<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNteWFuZy5jbi9hcmNoaXZlcy9kb2NrZXItYWNtZS1hdXRv">基于docker部署&lt;acme.sh&gt;申请泛域名证书并自动续签<i class="fa fa-external-link-alt"></i></span><br>2.<span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vLW1ybC9wLzEzMzM1MzYwLmh0bWw=">docker运行&lt;acme.sh&gt;安装配置泛域名证书<i class="fa fa-external-link-alt"></i></span></p><h3 id="NetData"><a href="#NetData" class="headerlink" title="NetData"></a>NetData</h3><h4 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h4><p>1.拉取镜像</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> pull netdata/netdata</code></pre><p>2.创建容器</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span><span class="token operator">=</span>netdata <span class="token punctuation">\</span>
  <span class="token parameter variable">-p</span> <span class="token number">19999</span>:19999 <span class="token punctuation">\</span>
  <span class="token parameter variable">-e</span> <span class="token assign-left variable">DO_NOT_TRACK</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> netdatalib:/var/lib/netdata <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> netdatacache:/var/cache/netdata <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> /etc/passwd:/host/etc/passwd:ro <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> /etc/group:/host/etc/group:ro <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> /proc:/host/proc:ro <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> /sys:/host/sys:ro <span class="token punctuation">\</span>
  --cap-add SYS_PTRACE <span class="token punctuation">\</span>
  --security-opt <span class="token assign-left variable">apparmor</span><span class="token operator">=</span>unconfined <span class="token punctuation">\</span>
  netdata/netdata</code></pre><h4 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h4><h5 id="旧版本已知seccomp问题"><a href="#旧版本已知seccomp问题" class="headerlink" title="旧版本已知seccomp问题"></a>旧版本已知seccomp问题</h5><p>1.下载默认配置</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">wget</span> https://raw.githubusercontent.com/moby/moby/master/profiles/seccomp/default.json <span class="token parameter variable">-O</span> /etc/docker/seccomp.json
<span class="token function">sudo</span> <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'2s/SCMP_ACT_ERRNO/SCMP_ACT_TRACE/'</span> /etc/docker/seccomp.json</code></pre><p>2.显示指定新政策</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span><span class="token operator">=</span>netdata <span class="token punctuation">\</span>
--security-opt<span class="token operator">=</span>seccomp<span class="token operator">=</span>/etc/docker/seccomp.json <span class="token punctuation">\</span>
<span class="token punctuation">..</span>.</code></pre><h4 id="参考-2"><a href="#参考-2" class="headerlink" title="参考"></a>参考</h4><p>1.<span class="exturl" data-url="aHR0cHM6Ly93d3cuNTFjdG8uY29tL2FydGljbGUvNjAxMzUzLmh0bWw=">NetData搭建<i class="fa fa-external-link-alt"></i></span><br>2.<span class="exturl" data-url="aHR0cHM6Ly9sZWFybi5uZXRkYXRhLmNsb3VkL2RvY3MvbmV0ZGF0YS1jbG91ZC9jb25uZWN0LWFnZW50LXRvLWNsb3VkI2tub3duLWlzc3Vlcy1vbi1vbGRlci1ob3N0cy13aXRoLXNlY2NvbXAtZW5hYmxlZA==">Seccomp已知问题<i class="fa fa-external-link-alt"></i></span><br>3.<span class="exturl" data-url="aHR0cHM6Ly9sZWFybi5uZXRkYXRhLmNsb3VkL2RvY3MvbmV0ZGF0YS1hZ2VudC9jb25maWd1cmF0aW9uL3J1bm5pbmctdGhlLW5ldGRhdGEtYWdlbnQtYmVoaW5kLWEtcmV2ZXJzZS1wcm94eS9uZ2lueA==">NetData反向代理<i class="fa fa-external-link-alt"></i></span><br>4.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL25ldGRhdGEvbmV0ZGF0YS9wa2dzL2NvbnRhaW5lci9uZXRkYXRh">NetData命令行安装<i class="fa fa-external-link-alt"></i></span><br>5.<span class="exturl" data-url="aHR0cHM6Ly9naXRlZS5jb20vRFhMaW51eC9OZXRkYXRhLWNoaW5lc2UtcGF0Y2g=">NetData中文补丁<i class="fa fa-external-link-alt"></i></span></p><h3 id="网心云"><a href="#网心云" class="headerlink" title="网心云"></a>网心云</h3><p>带宽太低不大适合跑, 比如4兆, 最好30兆以上</p><h4 id="拉取镜像"><a href="#拉取镜像" class="headerlink" title="拉取镜像"></a>拉取镜像</h4><p>从指定的地址拉取网心云的Docker镜像</p><pre class="language-none"><code class="language-none">docker pull onething1&#x2F;wxedge</code></pre><h4 id="配置和启动网心云容器"><a href="#配置和启动网心云容器" class="headerlink" title="配置和启动网心云容器"></a>配置和启动网心云容器</h4><p>第一个容器</p><pre class="language-none"><code class="language-none">docker run -d --name&#x3D;wxedge1 --restart&#x3D;always --privileged --net&#x3D;bridge --tmpfs &#x2F;run --tmpfs &#x2F;tmp -p 18888:18888 -v 磁盘路径1:&#x2F;storage:rw onething1&#x2F;wxedge</code></pre><p>其中, –net参数选择桥接模式（bridge）, 管理端口设置为18888, 且需要挂载磁盘到容器内的&#x2F;storage目录.<br>第二个及以上容器, 同样使用<code>docker run</code>命令, 但需更改容器名称、端口映射和挂载的磁盘路径. 例如，使用-p 18889:18888来映射第二个容器的端口为18889</p><h4 id="访问和管理网心云"><a href="#访问和管理网心云" class="headerlink" title="访问和管理网心云"></a>访问和管理网心云</h4><p>通过浏览器访问宿主机IP:管理端口来访问网心云的管理界面. 例如, 如果宿主机IP是192.168.31.2，第一个容器的管理端口设置为18888, 则通过浏览器访问192.168.31.2:18888来管理第一个网心云容器</p><h4 id="手机APP绑定"><a href="#手机APP绑定" class="headerlink" title="手机APP绑定"></a>手机APP绑定</h4><p>使用网心云的手机APP扫描管理界面上的二维码进行设备绑定</p><h4 id="参考-3"><a href="#参考-3" class="headerlink" title="参考"></a>参考</h4><p>1.<span class="exturl" data-url="aHR0cHM6Ly90aWViYS5iYWlkdS5jb20vcC84MzU0NjQxNDM2">https://tieba.baidu.com/p/8354641436<i class="fa fa-external-link-alt"></i></span></p><h3 id="Jellyfin"><a href="#Jellyfin" class="headerlink" title="Jellyfin"></a>Jellyfin</h3><p>1.拉取镜像</p><pre class="language-none"><code class="language-none">docker pull jellyfin&#x2F;jellyfin</code></pre><p>2.建立映射目录</p><pre class="language-none"><code class="language-none">mkdir &#x2F;path&#x2F;to&#x2F;config
mkdir &#x2F;path&#x2F;to&#x2F;cache</code></pre><p>3.创建容器</p><pre class="language-none"><code class="language-none">docker run -d \
 --name jellyfin \
 --user uid:gid \
 --net&#x3D;host \
 --volume &#x2F;path&#x2F;to&#x2F;config:&#x2F;config \ # Alternatively --volume jellyfin-config:&#x2F;config
 --volume &#x2F;path&#x2F;to&#x2F;cache:&#x2F;cache \ # Alternatively --volume jellyfin-cache:&#x2F;cache
 --mount type&#x3D;bind,source&#x3D;&#x2F;path&#x2F;to&#x2F;media,target&#x3D;&#x2F;media \
 --restart&#x3D;unless-stopped \
 jellyfin&#x2F;jellyfin</code></pre><h4 id="参考-4"><a href="#参考-4" class="headerlink" title="参考"></a>参考</h4><p>1.<span class="exturl" data-url="aHR0cHM6Ly9qZWxseWZpbi5vcmcvZG9jcy9nZW5lcmFsL2luc3RhbGxhdGlvbi9jb250YWluZXIv">Jellyfin安装指南<i class="fa fa-external-link-alt"></i></span></p><h3 id="国内拉取镜像失败"><a href="#国内拉取镜像失败" class="headerlink" title="国内拉取镜像失败"></a>国内拉取镜像失败</h3><p>因各种原因国内镜像拉取失败时</p><h4 id="优先改源"><a href="#优先改源" class="headerlink" title="优先改源"></a>优先改源</h4><p>1.编辑<code>daemon.json</code>文件</p><p>步骤如上Docker镜像加速</p><p>2.重启Docker</p><pre class="language-none"><code class="language-none">systemctl restart docker</code></pre><h4 id="镜像仓库不含应用源时"><a href="#镜像仓库不含应用源时" class="headerlink" title="镜像仓库不含应用源时"></a>镜像仓库不含应用源时</h4><p>举例如acme.sh</p><p>1.克隆含Dockerfile文件的源仓库到本地</p><pre class="language-none"><code class="language-none">git clone https:&#x2F;&#x2F;github.com&#x2F;acmesh-official&#x2F;acme.sh.git</code></pre><p><img data-src="https://cdn.laxdu.com/ImageHosting/D/Docker/0.webp"></p><p>2.借助Portainer工具<br>上传Dockerfile至portainer, 编译第一步的仓库</p><p><img data-src="https://cdn.laxdu.com/ImageHosting/D/Docker/1.webp"></p><p>注: 若没Portainer, 这类常用的应用可参照<a href="#Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F">Docker镜像加速</a>尝试拉取, 一般可直接拉取到</p><h3 id="参考-5"><a href="#参考-5" class="headerlink" title="参考"></a>参考</h3><p>1.<span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vaGFoYWhhMTExMTIyMjIyL3AvMTMxODA2OTIuaHRtbA==">自定义镜像<i class="fa fa-external-link-alt"></i></span><br>2.<span class="exturl" data-url="aHR0cHM6Ly9jci5jb25zb2xlLmFsaXl1bi5jb20vY24taGFuZ3pob3UvaW5zdGFuY2UvbmV3">阿里云个人镜像服务<i class="fa fa-external-link-alt"></i></span><br>3.<span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC83MDQyNTg3Njk=">Docker镜像国内拉取方法<i class="fa fa-external-link-alt"></i></span></p></div><footer class="post-footer"><div class="license"><div class="license-title">Docker的那些事</div><div class="license-link"><a href="https://blog.laxdu.com/posts/202303/">https://blog.laxdu.com/posts/202303/</a></div><div class="license-meta"><div class="license-meta-item"><div class="license-meta-title">本文作者</div><div class="license-meta-text">辰</div></div><div class="license-meta-item"><div class="license-meta-title">发布于</div><div class="license-meta-text">2023-05-05</div></div><div class="license-meta-item"><div class="license-meta-title">许可协议</div><div class="license-meta-text">禁止转载引用</div></div></div><div class="license-statement">如需转载或引用本文，请先获得作者授权！</div></div><div class="donation"><div class="donation-label">喜欢这篇文章？赞赏一下吧！</div><a class="donation-button" href="/donation/">赞赏作者</a></div><div class="post-tags"><a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag"><i class="fa fa-tag"></i> 服务器</a> <a href="/tags/GitHub/" rel="tag"><i class="fa fa-tag"></i> GitHub</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag"><i class="fa fa-tag"></i> 博客</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/202302/" rel="prev" title="Hexo博客搭建记录"><i class="fa fa-angle-left"></i> Hexo博客搭建记录</a></div><div class="post-nav-item"><a href="/posts/202306/" rel="next" title="实时环境光小结">实时环境光小结 <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments"><div id="twikoo-comments"></div></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><span class="exturl" data-url="aHR0cHM6Ly9iZWlhbi5taWl0Lmdvdi5jbg==">鄂ICP备2024062836号</span></div><div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">辰</span></div><div class="busuanzi-count"></div><div class="footer-menu"><a href="/tags/">文章标签</a> · <a href="/policy/">网站政策</a> · <a href="/links/">友情链接</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script src="/js/third-party/fancybox.js"></script><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="twikoo" type="application/json">{"enable":true,"visitor":false,"envId":"https://chenn9527-twikoo.hf.space","el":"#twikoo-comments"}</script><script>document.addEventListener("page:loaded",()=>{NexT.utils.loadComments(CONFIG.twikoo.el).then(()=>NexT.utils.getScript(CONFIG.twikoo.jsUrl||"https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js",{condition:window.twikoo})).then(()=>{twikoo.init(CONFIG.twikoo)})})</script><style>.comments,.post-block{overflow:visible}.tk-owo-emotion{display:inline-block}</style><script data-pjax type="text/javascript">var linkLists=document.querySelectorAll(".link-list");linkLists.forEach((function(n){var t=n.getAttribute("json-src"),a=n.getAttribute("icon-src"),e=new XMLHttpRequest;e.open("GET",t,!0),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText),s="";n.innerHTML="";for(var r=0;r<t.length;r++){var i=t[r],l=i.warn?'<span class="label warn">'+i.warn+"</span>":"",o=i.info?'<span class="label info">'+i.info+"</span>":"";s+='<div class="link-list-container">',s+='<img class="link-list-image" src="'+a+i.logo+'">',s+="<p>"+i.title+o+l+"</p>",s+="<p>"+i.intro+"</p>",s+='<a href="'+i.url+'" rel="noopener" target="_blank" data-pjax-state=""></a>',s+="</div>"}n.innerHTML=s}},e.send()}))</script></body></html>