<!DOCTYPE html><html lang="zh-CN"><head><link rel="preconnect" href="https://cdn.laxdu.com" crossorigin=""><link rel="preconnect" href="https://cdn.staticfile.org" crossorigin=""><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#e7ddc8" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#181c27" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/resources/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/resources/favicon/favicon-32.png"><link rel="icon" type="image/png" sizes="16x16" href="/resources/favicon/favicon.ico"><meta name="google-site-verification" content="qrfHdjHo8d6tPJTdX-b5IScRX0L1lgZk7ikpMOFlzrc"><meta name="baidu-site-verification" content="codeva-z6LkdLbjuo"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.css" integrity="sha256-gkQVf8UKZgQ0HyuxL/VnacadJ+D2Kox2TCEBuNQg5+w=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"blog.laxdu.com","root":"/","images":"/resources/img/","scheme":"Gemini","darkmode":true,"version":"8.20.0","exturl":true,"sidebar":{"position":"left","width_expanded":240,"width_dual_column":240,"display":"post","padding":18,"offset":12,"on_mobile":true,"button_reverse":true,"Pisces | Gemini":240},"copycode":{"enable":true,"style":"flat"},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><meta name="description" content="还是先上一段demo，看看美不美     正如视频显示，log是打在手机屏幕上的，介绍是来自上面的链接，将log打在屏幕上更为直观，即使用户没有一个可以呈现输出的开发环境，你也可以通过这种方式进行测试。根据原文所说，在ios和Android上进行过测试"><meta property="og:type" content="article"><meta property="og:title" content="Cocos2dx Screen Log"><meta property="og:url" content="https://blog.laxdu.com/posts/201624/index.html"><meta property="og:site_name" content="渡"><meta property="og:description" content="还是先上一段demo，看看美不美     正如视频显示，log是打在手机屏幕上的，介绍是来自上面的链接，将log打在屏幕上更为直观，即使用户没有一个可以呈现输出的开发环境，你也可以通过这种方式进行测试。根据原文所说，在ios和Android上进行过测试"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.laxdu.com/ImageHosting/S/ScreenLog/screenlog3.webp"><meta property="og:image" content="https://cdn.laxdu.com/ImageHosting/S/ScreenLog/screenlog4.webp"><meta property="article:published_time" content="2016-06-04T02:49:34.000Z"><meta property="article:author" content="辰"><meta property="article:tag" content="图形"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.laxdu.com/ImageHosting/S/ScreenLog/screenlog3.webp"><link rel="canonical" href="https://blog.laxdu.com/posts/201624/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://blog.laxdu.com/posts/201624/","path":"/posts/201624/","title":"Cocos2dx Screen Log"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Cocos2dx Screen Log | 渡</title><link rel="stylesheet" href="/resources/fonts/longcang/LongCang-Regular.css"><link rel="stylesheet" href="https://cdn.staticfile.net/lxgw-wenkai-screen-webfont/1.7.0/style.min.css"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">渡</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">静谧中，沉静心灵</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-life"><a href="/life/" rel="section"><i class="fa fa-pizza-slice fa-fw"></i>生活</a></li><li class="menu-item menu-item-leisure"><a href="/leisure/" rel="section"><i class="fa fa-mug-hot fa-fw"></i>余暇</a></li><li class="menu-item menu-item-industry"><a href="/industry/" rel="section"><i class="fa fa-fish fa-fw"></i>工业</a></li><li class="menu-item menu-item-notes"><a href="/notes/" rel="section"><i class="fa fa-book fa-fw"></i>随记</a></li><li class="menu-item menu-item-guestbook"><a href="/guestbook/" rel="section"><i class="fa fa-splotch fa-fw"></i>留言</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-overview-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">目 录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="辰" src="/resources/img/avatar-cat.jpg"><p class="site-author-name" itemprop="name">辰</p><div class="site-description" itemprop="description">C'est la vie</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">58</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">3</span> <span class="site-state-item-name">分类</span></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">11</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div></div></div><div class="pjax"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.laxdu.com/posts/201624/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/resources/img/avatar-cat.jpg"><meta itemprop="name" content="辰"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="渡"><meta itemprop="description" content="C'est la vie"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Cocos2dx Screen Log | 渡"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Cocos2dx Screen Log</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2016-06-04 10:49:34" itemprop="dateCreated datePublished" datetime="2016-06-04T10:49:34+08:00">2016-06-04</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/industry/" itemprop="url" rel="index"><span itemprop="name">工业</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.3k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>5 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><p>还是先上一段demo，看看美不美</p><iframe height="25" width="40" src="https://www.youtube.com/embed/lqY7A0JXPHs" frameborder="0" allowfullscreen></iframe><p>正如视频显示，log是打在手机屏幕上的，介绍是来自上面的链接，将log打在屏幕上更为直观，即使用户没有一个可以呈现输出的开发环境，你也可以通过这种方式进行测试。根据原文所说，在ios和Android上进行过测试</p><span id="more"></span><p>可以work在Cocos2dx 3.x版本上<br>重点来了， <strong>使用方法</strong>：<br>添加下面两个文件<br><span class="exturl" data-url="aHR0cDovL3d3dy5pZm9yY2UyZC5uZXQvY2MyZHgvc3JjL1NjcmVlbkxvZy5o">ScreenLog.h<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cDovL3d3dy5pZm9yY2UyZC5uZXQvY2MyZHgvc3JjL1NjcmVlbkxvZy5jcHA=">ScreenLog.cpp<i class="fa fa-external-link-alt"></i></span><br>在AppDelegate类中，include ScreenLog.h，并在ScreenLog类开始处初始化它的的global实例，可以在构造器中添加下面代码：</p><pre class="language-c++" data-language="c++"><code class="language-c++">AppDelegate::AppDelegate() &#123;
    g_screenLog &#x3D; new ScreenLog();
    g_screenLog-&gt;setLevelMask( LL_DEBUG | LL_INFO | LL_WARNING | LL_ERROR | LL_FATAL );
    g_screenLog-&gt;setFontFile( &quot;UbuntuMono-R.ttf&quot; );
    g_screenLog-&gt;setTimeoutSeconds( 15 );
&#125;</code></pre><p>上面的levelMask是用来指定输出log信息的类型的bitmask， 根据你的需要对其进行开关设置， logging levels可以任意设置，当然也可以根据你需要进行随意改变</p><pre class="language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LL_FATAL</span>     <span class="token expression"><span class="token number">0x01</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LL_ERROR</span>     <span class="token expression"><span class="token number">0x02</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LL_WARNING</span>   <span class="token expression"><span class="token number">0x04</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LL_INFO</span>      <span class="token expression"><span class="token number">0x08</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LL_DEBUG</span>     <span class="token expression"><span class="token number">0x10</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LL_TRACE</span>     <span class="token expression"><span class="token number">0x20</span></span></span></code></pre><p>通常开发期间都会使用五个levels，偶尔需要定位程序时，也会使用trace levels，通常用来打印函数的输入输出（见下面的tips），<br>你所使用的devices可能没必要设置字体， 如果你想设置non-ascii字符，你就需要一个支持它的字符集.<br>timeout指定了log信息消失之前可以被显示多久.</p><blockquote><ul><li>在AppDelegate::applicationDidFinishLaunching() 方法的末端，附加screenlog到starting scene.</li></ul></blockquote><pre class="language-c++" data-language="c++"><code class="language-c++">bool AppDelegate::applicationDidFinishLaunching() &#123;
     ---blah blah blah ---
     &#x2F;&#x2F; create a scene. its an autorelease object
     auto scene &#x3D; HelloWorld::scene();
 
     &#x2F;&#x2F; attach screenlog to the scene about to become active
     g_screenLog-&gt;attachToScene( scene );
 
     &#x2F;&#x2F; run
     director-&gt;runWithScene( scene );
 
     return true;
 &#125;</code></pre><p>attachToScene方法让screenlog将它自己以子节点的形式(ScreenLog是cocos2d::Layer的子类)添加到给定的scene，它有可能比其他scene中任何layer都高.默认的child level是1000， 如果你想更改，可以在ScreenLog.cpp中，修改SCREENLOG_LAYER_LEVEL的值，来保证screenlog layer是top-most，保持在最上层.<br>现在，你可以开始在屏幕上打印输出log信息了，include ScreenLog.h并调用log方法，e.g.</p><pre class="language-c++" data-language="c++"><code class="language-c++">g_screenLog-&gt;log( LL_INFO, &quot;Touch began: (%d,%d)&quot;, x, y );</code></pre><p>输出字符串的格式和<span class="exturl" data-url="aHR0cDovL3d3dy5jcGx1c3BsdXMuY29tL3JlZmVyZW5jZS9jc3RkaW8vcHJpbnRmLw==">printf<i class="fa fa-external-link-alt"></i></span>一样.<br>下面是一个打印log信息的例子，添加下面的code到init()方法中：</p><pre class="language-c++" data-language="c++"><code class="language-c++">g_screenLog-&gt;log( LL_DEBUG, &quot;A debug message... フォント&quot; );
g_screenLog-&gt;log( LL_INFO, &quot;An info message... によって&quot; );
g_screenLog-&gt;log( LL_WARNING, &quot;A warning message... 日本語も&quot; );
g_screenLog-&gt;log( LL_ERROR, &quot;An error message... 表示可能&quot; );</code></pre><p><img data-src="https://cdn.laxdu.com/ImageHosting/S/ScreenLog/screenlog3.webp"><br>在许多设备上，不需要setFontFile方法的调用，就可以显示日文.<br><strong>Note:</strong> 记住， 当切换scene时， 要记住attach它到要切的新的scene中.</p><pre class="language-c++" data-language="c++"><code class="language-c++">auto scene &#x3D; MyNextScreen::scene();
g_screenLog-&gt;attachToScene( scene ); &#x2F;&#x2F; important
CCDirector::sharedDirector()-&gt;replaceScene( scene );</code></pre><p>如果忘记添加它，screenlog会继续exist并run，但你看不到它.</p><p><strong>动态文本信息</strong><br>在存在的信息中，改变文本信息，也就是想输出动态文本信息，类似Cocos2dx的TextAlta类， 能够更快的更新，例如打印输出随着平移触摸而更新的触控位置<br>在比如，我想update一个文件下载的进度信息，当我首次创建screenLogMessage的引用，我可以保持这个log信息的引用：</p><pre class="language-c++" data-language="c++"><code class="language-c++">screenLogMessage* slm &#x3D; g_screenLog-&gt;log( LL_INFO, &quot;Downloading file: 0% complete&quot; );</code></pre><p>…以后使用它来改变同样log信息的文本，而并非重新添加</p><pre class="language-c++" data-language="c++"><code class="language-c++">g_screenLog-&gt;setMessageText( slm, &quot;Downloading file: %d% complete&quot;, progress );</code></pre><p>当一条log信息update如上， timeout计数也会复位，也就是说，如果这条更新的log信息timeout， 同样会从screenlog中remove掉.</p><p><strong>多线程问题</strong>（这段还在研究）<br>在ScreenLog.cpp中，你可以看到一些code处含有threads和locking，看起来似乎没必要.创建的理由是仅仅只有application的主线程能够正确创建用来log打印显示的CCLabelTTF labels，如果其他线程来做创建这件事，labels将无法被创建，因为OpenGL渲染环境并非当前的线程(原文是说because the OpenGL rendering context is not current for that thread).为了允许其他线程随时调用‘log’，除非application的主线程可以处理时， 进程实际的label-creation部分才被缓冲.<br>原文这段是：</p><pre class="language-none"><code class="language-none">In ScreenLog.cpp you will see a bunch of code to do with threads and locking which might seem unnecessary at first. The reason for that is because only the main thread of the application is able to correctly create the CCLabelTTF labels used for the log display. If any other thread tries this, the labels will not be created because the OpenGL rendering context is not current for that thread. To allow any other thread to call &#39;log&#39; at any time, the actual label-creation part of the process is buffered until the main thread of the application can do it. This allows logging from other threads in situations where processing is being done concurrently, such as long loading routines, or network transfers as mentioned above.
If you didn&#39;t understand that previous paragraph, just know that you can call &#39;log&#39; at any time from anywhere in your code without worrying about threading issues :)</code></pre><p><strong>其他使用tips</strong><br>头文件里，你能够发现一个比较小的类， 可以用来log程序的过程信息</p><pre class="language-c++" data-language="c++"><code class="language-c++">class ScopeLog &#123;
 public:
     std::string m_functionName;
     ScopeLog(std::string fn) &#123;
         m_functionName &#x3D; fn;
         g_screenLog-&gt;log( LL_TRACE, &quot;Entered %s&quot;, m_functionName.c_str() );
     &#125;
     ~ScopeLog() &#123;
         g_screenLog-&gt;log( LL_TRACE, &quot;Exiting %s&quot;, m_functionName.c_str() );
     &#125;
 &#125;;</code></pre><p>这使用了栈中一个类实例的scope timing来打印输出两条log信息.例如如果我们在scene()的开始和init()方法里添加一行code如下：</p><pre class="language-c++" data-language="c++"><code class="language-c++">Scene* HelloWorld::scene()
 &#123;
     ScopeLog log(__PRETTY_FUNCTION__);</code></pre><p>和</p><pre class="language-c++" data-language="c++"><code class="language-c++">bool HelloWorld::init()
&#123;
    ScopeLog log(__PRETTY_FUNCTION__);</code></pre><p>我们将能得到如下结果，说明了init()怎样出发在scene()函数内：<br><img data-src="https://cdn.laxdu.com/ImageHosting/S/ScreenLog/screenlog4.webp"></p></div><footer class="post-footer"><div class="license"><div class="license-title">Cocos2dx Screen Log</div><div class="license-link"><a href="https://blog.laxdu.com/posts/201624/">https://blog.laxdu.com/posts/201624/</a></div><div class="license-meta"><div class="license-meta-item"><div class="license-meta-title">本文作者</div><div class="license-meta-text">辰</div></div><div class="license-meta-item"><div class="license-meta-title">发布于</div><div class="license-meta-text">2016-06-04</div></div><div class="license-meta-item"><div class="license-meta-title">原文出处</div><div class="license-meta-text"><a href="http://www.iforce2d.net/cc2dxres/screenlog" rel="noopener" target="_blank">iforce2d</a></div></div><div class="license-meta-item"><div class="license-meta-title">许可协议</div><div class="license-meta-text">禁止转载引用</div></div></div><div class="license-statement">如需转载或引用本文，请先获得作者授权！</div></div><div class="donation"><div class="donation-label">喜欢这篇文章？赞赏一下吧！</div><a class="donation-button" href="/donation/">赞赏作者</a></div><div class="post-tags"><a href="/tags/%E5%9B%BE%E5%BD%A2/" rel="tag"><i class="fa fa-tag"></i> 图形</a></div><div class="post-nav"><div class="post-nav-item"><a href="/posts/201622/" rel="prev" title="Android NDK中的各个版本的下载地址"><i class="fa fa-angle-left"></i> Android NDK中的各个版本的下载地址</a></div><div class="post-nav-item"><a href="/posts/201619/" rel="next" title="Cocos2dx v3.8.1避免重复编译">Cocos2dx v3.8.1避免重复编译 <i class="fa fa-angle-right"></i></a></div></div></footer></article></div><div class="comments"><div id="twikoo-comments"></div></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><span class="exturl" data-url="aHR0cHM6Ly9iZWlhbi5taWl0Lmdvdi5jbg==">鄂ICP备2024062836号</span></div><div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">辰</span></div><div class="busuanzi-count"></div><div class="footer-menu"><a href="/tags/">文章标签</a> · <a href="/policy/">网站政策</a> · <a href="/links/">友情链接</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.31/fancybox/fancybox.umd.js" integrity="sha256-a+H7FYzJv6oU2hfsfDGM2Ohw/cR9v+hPfxHCLdmCrE8=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script src="/js/third-party/fancybox.js"></script><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="twikoo" type="application/json">{"enable":true,"visitor":false,"envId":"https://chenn9527-twikoo.hf.space","el":"#twikoo-comments"}</script><script>document.addEventListener("page:loaded",()=>{NexT.utils.loadComments(CONFIG.twikoo.el).then(()=>NexT.utils.getScript(CONFIG.twikoo.jsUrl||"https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js",{condition:window.twikoo})).then(()=>{twikoo.init(CONFIG.twikoo)})})</script><style>.comments,.post-block{overflow:visible}.tk-owo-emotion{display:inline-block}</style><script data-pjax type="text/javascript">var linkLists=document.querySelectorAll(".link-list");linkLists.forEach((function(n){var t=n.getAttribute("json-src"),a=n.getAttribute("icon-src"),e=new XMLHttpRequest;e.open("GET",t,!0),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText),s="";n.innerHTML="";for(var r=0;r<t.length;r++){var i=t[r],l=i.warn?'<span class="label warn">'+i.warn+"</span>":"",o=i.info?'<span class="label info">'+i.info+"</span>":"";s+='<div class="link-list-container">',s+='<img class="link-list-image" src="'+a+i.logo+'">',s+="<p>"+i.title+o+l+"</p>",s+="<p>"+i.intro+"</p>",s+='<a href="'+i.url+'" rel="noopener" target="_blank" data-pjax-state=""></a>',s+="</div>"}n.innerHTML=s}},e.send()}))</script><script data-pjax type="text/javascript">var leisureList=document.querySelectorAll(".leisure-list");if(0!==leisureList.length)for(var j=-1,i=0;i<leisureList.length;i++){const r=leisureList[i].getAttribute("json-src"),s=leisureList[i].getAttribute("cover-src");var xhr=new XMLHttpRequest;xhr.open("GET",r,!0),xhr.onreadystatechange=function(){if(4===xhr.readyState&&200===xhr.status){j++;var r=JSON.parse(xhr.responseText),e="";leisureList[j].innerHTML="";for(var t=0;t<r.length;t++){var i=r[t],a=i.title;i.pid&&(a='<a href="/posts/'+i.pid+'/">'+i.title+"</a>");var o=i.author?'<span class="author">'+i.author+"</span>":"",l=i.intro?i.intro:"",n="";if(null==i.score)n="";else{var c="",v="",u=Math.floor(i.score),d=0;i.score%1!=0&&(d=1);for(var h=0;h<u;h++)c+="★";0!==d&&(c+="☆");for(h=0;h<5-d-u;h++)v+="☆";n=5!==i.score?'<span class="star-score">'+c+'<span class="grey-star">'+v+"</span></span>":'<span class="star-score">'+c+"</span>"}e+='<div class="work">',e+='<div class="work-cover" style="background-image:url('+s+i.cover+')"></div>',e+='<div class="work-meta">',e+='<div class="work-meta-item title">'+a+"</div>",e+='<div class="work-meta-item">'+o+n+"</div>",e+='<div class="work-meta-item intro">'+l+"</div>",e+="</div></div>"}leisureList[j].innerHTML=e}},xhr.send()}</script></body></html>